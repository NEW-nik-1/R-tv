<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>IPTV / Radio / Games Player</title>
<style>
  /* –§–æ–Ω –∑–∞–º–æ—Å—Ç–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫–æ–π JPEG */
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: url('https://picsum.photos/id/1018/1920/1080.jpg') repeat;
    background-size: cover;
    color: #ddd;
  }
  /* –ì—Ä–∞–¥–∏–µ–Ω—Ç —á–µ—Ä–Ω–æ-—Å–µ—Ä—ã–π –¥–ª—è —à–∞–ø–∫–∏ –∏ –∫–Ω–æ–ø–æ–∫ */
  header {
    display: flex;
    justify-content: center;
    gap: 15px;
    background: linear-gradient(90deg, #000 0%, #444 100%);
    padding: 10px 0;
    position: sticky;
    top: 0;
    z-index: 10000;
  }
  header button {
    background: linear-gradient(180deg, #222, #555);
    border: 1px solid #888;
    border-radius: 5px;
    color: #ddd;
    font-size: 16px;
    padding: 8px 14px;
    cursor: pointer;
    transition: background-color 0.3s, color 0.3s;
    user-select: none;
  }
  header button:hover:not(.active):not(.recording) {
    background-color: #666;
  }
  header button.active {
    background-color: #aaa;
    color: #111;
  }
  header button.recording {
    background-color: #c00 !important;
    color: white !important;
    animation: pulse-red 1.5s infinite alternate;
  }
  @keyframes pulse-red {
    0% { background-color: #c00; }
    100% { background-color: #800; }
  }
  main {
    display: flex;
    justify-content: center;
    margin-top: 2px;
    gap: 30px;
    height: calc(100vh - 55px);
  }
  /* –í–∏–¥–µ–æ –∏ —Ä–∞–¥–∏–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã */
  #video-container, #radio-container {
    flex-shrink: 0;
    width: 720px;
    background: linear-gradient(180deg, #222, #444);
    border-radius: 10px;
    padding: 10px;
    box-sizing: border-box;
    display: none;
    flex-direction: column;
    align-items: center;
    position: relative;
    z-index: 1;
  }
  video {
    width: 720px;
    height: 405px;
    background: black;
    user-select: none;
  }
  audio {
    width: 720px;
  }
  /* –°–ø–∏—Å–∫–∏ –∫–∞–Ω–∞–ª–æ–≤ –¢–í –∏ —Ä–∞–¥–∏–æ */
  .channel-list, .radio-list {
    margin-top: 6px;
    background: #111;
    max-height: 280px;
    overflow-y: auto;
    border: 2px solid #555;
    border-radius: 6px;
    box-sizing: border-box;
    width: 720px;
    color: #ccc;
    list-style: none;
    padding: 5px 0;
    user-select: none;
  }
  .channel-list li, .radio-list li {
    padding: 6px 15px;
    cursor: pointer;
    text-align: center;
  }
  .channel-list li:hover, .radio-list li:hover {
    background-color: #333;
  }
  .channel-list li.active, .radio-list li.active {
    background-color: #555;
    color: #fff;
    font-weight: bold;
  }
  /* –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–∞–Ω–∞–ª–æ–≤ —Å –æ–±–≤–æ–¥–∫–æ–π –ø–æ —Ü–µ–Ω—Ç—Ä—É */
  .channel-category {
    border: 1.5px solid #888;
    margin: 8px auto 5px;
    padding: 3px 10px;
    width: fit-content;
    font-weight: bold;
    font-size: 18px;
    background: linear-gradient(90deg, #222, #444);
    color: #aaa;
    user-select: none;
    line-height: 1.2;
  }
  .channel-category.music::before {
    content: "üéµ ";
  }
  .channel-category.kino::before {
    content: "üé¨ ";
  }

  /* –ò–≥—Ä—ã: —Å–ø–∏—Å–æ–∫ –∏ –æ–∫–Ω–æ –∏–≥—Ä—ã */
  #games-list-container {
    position: fixed;
    top: 55px;
    left: 50%;
    transform: translateX(-50%);
    max-height: 70vh;
    overflow-y: auto;
    width: 320px;
    background: linear-gradient(180deg, #111, #333);
    border-radius: 10px;
    border: 2px solid #555;
    z-index: 10500;
    display: none;
    box-sizing: border-box;
    padding-top: 5px;
    user-select: none;
  }
  #games-list {
    list-style: none;
    margin: 0;
    padding: 0 5px 10px;
    color: #ddd;
  }
  #games-list li {
    padding: 10px;
    font-size: 16px;
    text-align: center;
    cursor: pointer;
    white-space: nowrap;
  }
  #games-list li:hover {
    background-color: #444;
  }
  #games-list li.active {
    background-color: #666;
    font-weight: bold;
  }
  #games-list-close {
    position: absolute;
    top: 2px;
    right: 6px;
    cursor: pointer;
    font-size: 18px;
    color: #ccc;
  }
  #games-list-close:hover {
    color: #fff;
  }

  #games-overlay {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(180deg, #222, #444);
    border-radius: 12px;
    box-shadow: 0 0 20px #000;
    width: 90vw;
    height: 80vh;
    max-width: 1280px;
    max-height: 720px;
    z-index: 11000;
    display: flex;
    flex-direction: column;
    user-select: none;
  }
  #games-header {
    display: flex;
    justify-content: flex-end;
    gap: 12px;
    background: #111;
    border-bottom: 1px solid #555;
    padding: 6px 10px;
    color: #ccc;
  }
  #games-header button {
    background: transparent;
    border: none;
    color: #ccc;
    font-size: 18px;
    cursor: pointer;
    user-select: none;
  }
  #games-header button:hover {
    color: #fff;
  }
  #games-iframe {
    flex-grow: 1;
    border: none;
    width: 100%;
    background: black;
  }

  /* –§—É—Ç–µ—Ä –º–µ–ª–∫–∏–º —à—Ä–∏—Ñ—Ç–æ–º —Å–ø—Ä–∞–≤–∞ –≤–Ω–∏–∑—É */
  #footer {
    position: fixed;
    bottom: 3px;
    right: 10px;
    font-size: 10px;
    color: #ccc;
    font-family: monospace;
    user-select: none;
    z-index: 9999;
  }
</style>
<script src="https://cdn.jsdelivr.net/npm/hls.js@1.5.1/dist/hls.min.js"></script>
<script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
</head>
<body>
<header>
  <button id="btn-tv" type="button" aria-pressed="false" aria-label="–í–∫–ª—é—á–∏—Ç—å –¢–í">–¢–í</button>
  <button id="btn-radio" type="button" aria-pressed="false" aria-label="–í–∫–ª—é—á–∏—Ç—å —Ä–∞–¥–∏–æ">–†–ê–î–ò–û</button>
  <button id="btn-record" type="button" aria-pressed="false" aria-label="–ó–∞–ø–∏—Å—å –¢–í" style="display:none;">–ó–ê–ü–ò–°–¨ TV</button>
  <button id="btn-games" type="button" aria-expanded="false" aria-controls="games-list-container" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –∏–≥—Ä—ã">–ò–ì–†–´</button>
</header>

<main>
  <!-- –í–∏–¥–µ–æ IPTV –ø–ª–µ–µ—Ä –∏ —Å–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤ -->
  <section id="video-container" aria-label="IPTV –≤–∏–¥–µ–æ –ø–ª–µ–µ—Ä" role="region">
    <video id="video-player" controls playsinline></video>
    <ul class="channel-list" id="channel-list" tabindex="0" aria-label="–°–ø–∏—Å–æ–∫ —Ç–µ–ª–µ–∫–∞–Ω–∞–ª–æ–≤">
      <li class="channel-category music" tabindex="-1" aria-hidden="true">_üéµ_ –ú–£–ó–´–ö–ê _üéµ_</li>
      <li tabindex="0" data-url="https://hls-03-video.webcaramba.com/rutv/live_480/index.m3u8">RU TV</li>
      <li tabindex="0" data-url="http://streamer.rtcommufa.ru:1935/ptica/ptica1/playlist.m3u8">Ptica 1</li>
      <li tabindex="0" data-url="http://live.stranafm.cdnvideo.ru/stranafm/stranafm_hd.sdp/playlist.m3u8">Strana FM HD</li>
      <li tabindex="0" data-url="http://tntmsmotr.mediacdn.ru/cdn/smotr/playlist_hdhigh.m3u8">TNT High</li>
      <li tabindex="0" data-url="https://hls-shansontv.cdnvideo.ru/shansontv/shansontv-sd.smil/playlist.m3u8">Shanson TV</li>
      <li tabindex="0" data-url="http://chanson-video.hostingradio.ru:8080/hls/chansonabr/live.m3u8">Chanson ABR</li>
      <li tabindex="0" data-url="http://de1se01.v2beat.live/playlist.m3u8">V2Beat</li>
      <li tabindex="0" data-url="http://k4.usastreams.com/videotour/videotour/playlist.m3u8">Video Tour</li>
      <li tabindex="0" data-url="http://connectiktv.ddns.net:5000/playtv/@playtv/chunklist.m3u8">PlayTV</li>
      <li tabindex="0" data-url="https://dpp-qmusicnl-live.akamaized.net/streamx/QmusicNL.m3u8">Qmusic NL</li>
      <li tabindex="0" data-url="http://bitcdn-kronehit.bitmovin.com/v2/hls/chunklist_b1628000.m3u8">Kronehit</li>
      <li tabindex="0" data-url="https://company.fluid.stream/CompanyTV/smil:Company_ALL.smil/playlist_slita.m3u8">Company TV</li>

      <li class="channel-category kino" tabindex="-1" aria-hidden="true">_ üé¨_ –ö–ò–ù–û _üé¨_</li>
      <li tabindex="0" data-url="http://live-nikatv.cdnvideo.ru/nikatv/nikatv.sdp/playlist.m3u8">Nika TV</li>
      <li tabindex="0" data-url="https://zabava-htlive.cdn.ngenix.net/hls/CH_TV3/variant.m3u8">TV 3</li>
      <li tabindex="0" data-url="http://rt-mos-htlive.cdn.ngenix.net/hls/CH_R04_DOVERIE/variant.m3u8">DOVERIE</li>
      <li tabindex="0" data-url="https://sirius.greenhosting.ru/Kino24Ru/video.m3u8">Kino24Ru</li>
      <li tabindex="0" data-url="http://195.245.99.242/Bestseler/playlist.m3u8">Bestseller</li>
      <li tabindex="0" data-url="http://195.245.99.242/Detectiv/playlist.m3u8">Detectiv</li>
      <li tabindex="0" data-url="http://cdn-01.bonus-tv.ru/prosveschenie_edge/tracks-v1a1/index.m3u8">Prosveschenie</li>
      <li tabindex="0" data-url="https://streaming.astrakhan.ru/astrakhan24/playlist.m3u8">Astrakhan24</li>
      <li tabindex="0" data-url="http://tele2dvrnat01-02.cdnvideo.ru/stream/NAT_Volga/hls/1920x1080@4504/playlist.m3u8">NAT Volga HD</li>
      <li tabindex="0" data-url="http://live.guberniatv.cdnvideo.ru/guberniatv/guberniatv.sdp/playlist.m3u8">Gubernia TV</li>
      <li tabindex="0" data-url="https://hls-eniseytv.cdnvideo.ru/eniseytv/stream1/playlist.m3u8">Enisey TV</li>
      <li tabindex="0" data-url="http://tele2dvrnat01-02.cdnvideo.ru/stream/NAT_Tambov/hls/1280x720@2500/playlist.m3u8">NAT Tambov HD</li>
      <li tabindex="0" data-url="https://svoetv.mediacdn.ru/cdn/svoetv/playlist_hdhigh.m3u8">Svoe TV HD</li>
    </ul>
  </section>

  <!-- –†–∞–¥–∏–æ –ø–ª–µ–µ—Ä –∏ —Å–ø–∏—Å–æ–∫ -->
  <section id="radio-container" aria-label="–†–∞–¥–∏–æ –ø–ª–µ–µ—Ä" role="region">
    <audio id="audio-player" controls></audio>
    <ul class="radio-list" id="radio-list" tabindex="0" aria-label="–°–ø–∏—Å–æ–∫ —Ä–∞–¥–∏–æ—Å—Ç–∞–Ω—Ü–∏–π">
      <li tabindex="0" data-url="https://dorognoe.hostingradio.ru/radio">–î–æ—Ä–æ–∂–Ω–æ–µ —Ä–∞–¥–∏–æ</li>
      <li tabindex="0" data-url="https://online2.100i6fm.ru/city">–†–∞–¥–∏–æ –°–ò–¢–ò</li>
      <li tabindex="0" data-url="https://pub0101.101.ru/stream/air/aac/64/100">–ê–≤—Ç–æ—Ä–∞–¥–∏–æ</li>
      <li tabindex="0" data-url="https://radiorecord.hostingradio.ru/rr_main96.aacp">–†–∞–¥–∏–æ –†–µ–∫–æ—Ä–¥</li>
      <li tabindex="0" data-url="https://stream.newradio.ru/novoe96.aacp">–ù–æ–≤–æ–µ —Ä–∞–¥–∏–æ</li>
      <li tabindex="0" data-url="https://retro.hostingradio.ru:8043/retro256.mp3">–†–µ—Ç—Ä–æ –§–ú</li>
      <li tabindex="0" data-url="https://pub0202.101.ru:8443/stream/air/aac/64/99">–†–∞–¥–∏–æ Energy</li>
      <li tabindex="0" data-url="https://ep256.hostingradio.ru:8052/europaplus256.mp3">–ï–≤—Ä–æ–ø–∞ –ø–ª—é—Å</li>
      <li tabindex="0" data-url="https://nashe1.hostingradio.ru/nashe-256">–ù–∞—à–µ —Ä–∞–¥–∏–æ</li>
      <li tabindex="0" data-url="https://myradio24.org/5129">BEST DEEP FM</li>
      <li tabindex="0" data-url="https://rusradio.hostingradio.ru/rusradio96.aacp">–†—É—Å—Å–∫–æ–µ —Ä–∞–¥–∏–æ</li>
      <li tabindex="0" data-url="https://radio-holding.ru:9433/marusya_default">–ú–∞—Ä—É—Å—è –§–ú</li>
      <li tabindex="0" data-url="https://retro.amgradio.ru/Retro?r_bells">–†–µ—Ç—Ä–æ –•–∏—Ç</li>
      <li tabindex="0" data-url="https://c6.radioboss.fm:18096/stream">Donat FM –®–∞–Ω—Å–æ–Ω</li>
      <li tabindex="0" data-url="https://listen7.myradio24.com/75853">–®–∞–Ω—Å–æ–Ω –†–∞–¥–∏–æ</li>
      <li tabindex="0" data-url="https://whsh4u-panel.com/proxy/yfryujzw?mp=/stream">Extreme Deep House Radio</li>
      <li tabindex="0" data-url="https://ru.amgradio.ru/RuWave48?r_bells">–†—É—Å—Å–∫–∞—è –í–æ–ª–Ω–∞</li>
      <li tabindex="0" data-url="https://evcast.mediacp.eu:2075/stream">–†–∞–¥–∏–æ –°–æ–≤–µ—Ç—Å–∫–∞—è —ç—Å—Ç—Ä–∞–¥–∞</li>
      <li tabindex="0" data-url="https://live.retrofm.lv/retrofmlatvia">Retro FM</li>
      <li tabindex="0" data-url="https://pub0302.101.ru:8443/stream/air/aac/64/102">–Æ–º–æ—Ä FM</li>
      <li tabindex="0" data-url="https://radiorecord.hostingradio.ru/mix96.aacp">Record Megamix</li>
      <li tabindex="0" data-url="https://myradio24.org/78185">–†–∞–¥–∏–æ –õ—é–±–∏–º—ã–µ —Ö–∏—Ç—ã</li>
      <li tabindex="0" data-url="https://murka.amgradio.ru/MurkaFM?r_bells">–ú—É—Ä–∫–∞ FM</li>
      <li tabindex="0" data-url="https://pub0302.101.ru:8000/stream/trust/mp3/128/24?">Relax FM Chillout</li>
      <li tabindex="0" data-url="https://radiopotok2.online/http://radio.nueuphoria.com:8000/live">Nu Euphoria Trance Radio</li>
      <li tabindex="0" data-url="https://radiont.shansonspb.ru:1040/stream">–ù–æ—á–Ω–æ–µ —Ç–∞–∫—Å–∏</li>
      <li tabindex="0" data-url="https://rodpesni.amgradio.ru/rp?r_bells">–†–æ–¥–Ω—ã–µ –ü–µ—Å–Ω–∏</li>
      <li tabindex="0" data-url="https://myradio24.org/78805">–†–∞–¥–∏–æ –î–≤–∏–∂—É—Ö–∞</li>
      <li tabindex="0" data-url="https://myradio24.org/dance80">–î–∏—Å–∫–æ—Ç–µ–∫–∞ 80-90</li>
      <li tabindex="0" data-url="https://rmx.amgradio.ru/RemixFM?r_bells">Remix FM</li>
      <li tabindex="0" data-url="https://hitfm-hit1990.hostingradio.ru/hit199096.aacp">–•–∏—Ç FM 90–µ</li>
      <li tabindex="0" data-url="https://dfm-disc90.hostingradio.ru/disc9096.aacp">DFM –î–∏—Å–∫–∞—á 90-—ã—Ö</li>
      <li tabindex="0" data-url="https://pub0201.101.ru/stream/pro/aac/64/74?">–ê–≤—Ç–æ—Ä–∞–¥–∏–æ –î–∏—Å–∫–æ—Ç–µ–∫–∞ 90-—Ö</li>
      <li tabindex="0" data-url="https://listen1.myradio24.com/5967">90s Eurodance</li>
      <li tabindex="0" data-url="https://live.prodjradio.net:8065/radio">PRO Dj Radio</li>
      <li tabindex="0" data-url="https://streamssl.radiodanz.com/live">Radio Danz</li>
      <li tabindex="0" data-url="https://kavkazhit.hostingradio.ru:8017/kavkazhit96.mp3">–†–∞–¥–∏–æ –ö–∞–≤–∫–∞–∑-–•–∏—Ç</li>
      <li tabindex="0" data-url="https://bobina.su">–†–∞–¥–∏–æ –ë–æ–±–∏–Ω–∞</li>
      <li tabindex="0" data-url="https://pub0101.101.ru/stream/pro/aac/64/1?">–ê–≤—Ç–æ—Ä–∞–¥–∏–æ –î–∏—Å–∫–æ—Ç–µ–∫–∞ 80-—Ö</li>
      <li tabindex="0" data-url="https://pub0302.101.ru:8443/stream/pro/aac/64/74">–î–∏—Å–∫–æ—Ç–µ–∫–∞ 90-—ã—Ö</li>
      <li tabindex="0" data-url="https://pub0302.101.ru:8443/stream/trust/mp3/128/17">Russian Dance</li>
      <li tabindex="0" data-url="https://hitfm-hit100pud.hostingradio.ru/hit100pud96.aacp">–•–∏—Ç FM –°—Ç–æ–ø—É–¥–æ–≤—ã–π –•–∏—Ç</li>
      <li tabindex="0" data-url="https://radiorecord.hostingradio.ru/russiangold96.aacp">Record Russian Gold</li>
      <li tabindex="0" data-url="https://radiorecord.hostingradio.ru/sd9096.aacp">–°—É–ø–µ—Ä–¥–∏—Å–∫–æ—Ç–µ–∫–∞ 90-—Ö</li>
      <li tabindex="0" data-url="https://stream.vyshka24.ru/russhanson24">–†—É—Å—Å–∫–∏–π —à–∞–Ω—Å–æ–Ω 24</li>
      <li tabindex="0" data-url="https://icecast-studio21.cdnvideo.ru/KalynaK_1a">–†–∞–¥–∏–æ –ö–∞–ª–∏–Ω–∞ –ö—Ä–∞—Å–Ω–∞—è</li>
      <li tabindex="0" data-url="https://radiomv.hostingradio.ru:80/radiomv128.mp3">–ú–∏–ª–∏—Ü–µ–π—Å–∫–∞—è –≤–æ–ª–Ω–∞</li>
      <li tabindex="0" data-url="https://online2.jamfm.ru/jam_aacplus">–î–∂–µ–º FM</li>
      <li tabindex="0" data-url="https://listen7.myradio24.com/96203">–†–∞–¥–∏–æ –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π —Ä–∞–π</li>
      <li tabindex="0" data-url="https://radiorecord.hostingradio.ru/eurodance96.aacp">Record Eurodance</li>
      <li tabindex="0" data-url="https://pub0102.101.ru:8443/stream/pro/aac/64/33">–†–æ—Å—Å–∏—è 90-—ã—Ö</li>
      <li tabindex="0" data-url="https://radiopotok2.online/http://89.223.45.5:8000/geny-160">Sector Geny / 80s</li>
      <li tabindex="0" data-url="https://pub0302.101.ru:8000/stream/pro/aac/64/144?">–ê–≤—Ç–æ—Ä–∞–¥–∏–æ –î–∏—Å–∫–æ—Ç–µ–∫–∞ –°–°–°–†</li>
      <li tabindex="0" data-url="https://evcast.mediacp.eu:1965/stream">–î–∏—Å–∫–æ-—Ä–∞–¥–∏–æ SOVA</li>
    </ul>
  </section>
</main>

<!-- –°–ø–∏—Å–æ–∫ –∏–≥—Ä -->
<div id="games-list-container" role="dialog" aria-modal="true" aria-label="–í—ã–±–æ—Ä –∏–≥—Ä">
  <div id="games-list-close" title="–ó–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é –∏–≥—Ä" role="button" tabindex="0" aria-label="–ó–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é –∏–≥—Ä">‚úñ</div>
  <ul id="games-list" tabindex="0" aria-label="–°–ø–∏—Å–æ–∫ –∏–≥—Ä">
    <li tabindex="0" data-url="https://html5.gamemonetize.co/dd5rs8etri5hw51g32sk69qfdoov5tq2/">Gary's World</li>
    <li tabindex="0" data-url="https://www.onlinegames.io/games/2021/unity2/crazy-ball-adventures/index.html">crazy-ball-adventures</li>
    <li tabindex="0" data-url="https://www.gamenora.com/embed/subway-horror-chapter-1">subway-horror-chapter</li>
    <li tabindex="0" data-url="https://www.gamenora.com/embed/a-difficult-game-about-climbing">A Difficult Game About Climbing</li>
    <li tabindex="0" data-url="https://www.onlinegames.io/games/2023/unity/cross-the-road/index.html">cross-the-road</li>
    <li tabindex="0" data-url="https://s3.eponesh.com/games/8866/">motorcycle racer</li>
    <li tabindex="0" data-url="https://app-165758.games.s3.yandex.net/165758/ghtg4xyuxt09og6gtji0jcl6aw8el4w4/index.html">Moto Rider GO</li>
    <li tabindex="0" data-url="https://www.onlinegames.io/games/2021/unity/motorbike-traffic/index.html">motorbike-traffic</li>
    <li tabindex="0" data-url="https://www.gamenora.com/splash/turbo-moto-racer-3d/">turbo-moto-racer-3d</li>
    <li tabindex="0" data-url="https://www.onlinegames.io/games/2021/unity/atv-highway-traffic/index.html">atv-highway-traffic</li>
    <li tabindex="0" data-url="https://traffictour.github.io/traffic-tour/">traffic-tour</li>
  </ul>
</div>

<!-- –û–≤–µ—Ä–ª–µ–π —Å –∏–≥—Ä–æ–π -->
<div id="games-overlay" role="dialog" aria-modal="true" aria-label="–ò–≥—Ä–æ–≤–æ–µ –æ–∫–Ω–æ">
  <div id="games-header">
    <button id="btn-minimize" title="–û–ø—É—Å—Ç–∏—Ç—å –≤–Ω–∏–∑ ‚ñΩ" aria-label="–û–ø—É—Å—Ç–∏—Ç—å –æ–∫–Ω–æ –∏–≥—Ä—ã" type="button">‚ñΩ</button>
    <button id="btn-restore" title="–í–µ—Ä–Ω—É—Ç—å –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ ‚ñ≥" aria-label="–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–∫–Ω–æ –∏–≥—Ä—ã" type="button" style="display:none;">‚ñ≥</button>
    <button id="btn-mute" title="–í–∫–ª/–í—ã–∫–ª –∑–≤—É–∫" aria-label="–û—Ç–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫" type="button">üîà</button>
    <button id="btn-fullscreen" title="–§—É–ª–ª—Å–∫—Ä–∏–Ω" aria-label="–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º" type="button">‚ùè</button>
    <button id="btn-exit" title="–ó–∞–∫—Ä—ã—Ç—å –∏–≥—Ä—É" aria-label="–ó–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–æ –∏–≥—Ä—ã" type="button">‚úñ</button>
  </div>
  <iframe id="games-iframe" src="" allowfullscreen allow="autoplay; fullscreen; microphone; camera; encrypted-media"></iframe>
</div>

<div id="footer">–ü—Ä–æ–µ–∫—Ç —Å–¥–µ–ª–∞–Ω, –ø—Ä–∏–¥—É–º–∞–Ω MUZER_play </div>

<script>
(() => {
  const btnTV = document.getElementById('btn-tv');
  const btnRadio = document.getElementById('btn-radio');
  const btnRecord = document.getElementById('btn-record');
  const btnGames = document.getElementById('btn-games');

  const videoContainer = document.getElementById('video-container');
  const videoPlayer = document.getElementById('video-player');
  const channelList = document.getElementById('channel-list');

  const radioContainer = document.getElementById('radio-container');
  const audioPlayer = document.getElementById('audio-player');
  const radioList = document.getElementById('radio-list');

  const gamesListContainer = document.getElementById('games-list-container');
  const gamesList = document.getElementById('games-list');
  const gamesListClose = document.getElementById('games-list-close');

  const gamesOverlay = document.getElementById('games-overlay');
  const gamesIframe = document.getElementById('games-iframe');
  const btnMinimize = document.getElementById('btn-minimize');
  const btnRestore = document.getElementById('btn-restore');
  const btnMute = document.getElementById('btn-mute');
  const btnFullscreen = document.getElementById('btn-fullscreen');
  const btnExit = document.getElementById('btn-exit');

  let currentMode = null; // "tv", "radio", "games"
  let currentStreamUrl = null;
  let hls = null;
  let isRecording = false;
  let mediaRecorder = null;
  let recordedChunks = [];

  function setActiveButton(activeBtn) {
    [btnTV, btnRadio, btnRecord, btnGames].forEach(btn => {
      btn.classList.remove('active', 'recording');
      btn.setAttribute('aria-pressed', 'false');
    });
    if (activeBtn) {
      activeBtn.classList.add('active');
      activeBtn.setAttribute('aria-pressed', 'true');
    }
  }

  function setActiveListItem(list, element) {
    const items = list.querySelectorAll('li[tabindex="0"]');
    items.forEach(li => li.classList.remove('active'));
    if (element) element.classList.add('active');
  }
  function stopVideo() {
    if (hls) {
      hls.destroy();
      hls = null;
    }
    videoPlayer.pause();
    videoPlayer.src = "";
    videoContainer.style.display = 'none';
  }
  function stopAudio() {
    audioPlayer.pause();
    audioPlayer.src = '';
    radioContainer.style.display = 'none';
  }
  function playVideo(url) {
    if (!url) return;
    stopAudio();
    videoContainer.style.display = 'flex';
    radioContainer.style.display = 'none';
    currentStreamUrl = url;
    if (hls) {
      hls.destroy();
      hls = null;
    }
    if (videoPlayer.canPlayType('application/vnd.apple.mpegurl')) {
      videoPlayer.src = url;
      videoPlayer.play().catch(()=>{});
    } else if (Hls.isSupported()) {
      hls = new Hls();
      hls.loadSource(url);
      hls.attachMedia(videoPlayer);
      hls.on(Hls.Events.MANIFEST_PARSED, () => videoPlayer.play().catch(()=>{}));
    } else {
      alert('–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç HLS –ø–æ—Ç–æ–∫.');
    }
  }
  function playAudio(url) {
    if (!url) return;
    stopVideo();
    radioContainer.style.display = 'flex';
    videoContainer.style.display = 'none';
    audioPlayer.src = url;
    audioPlayer.play().catch(()=>{});
  }

  btnTV.addEventListener('click', () => {
    if (currentMode === 'tv') return;
    currentMode = 'tv';
    setActiveButton(btnTV);
    btnRecord.style.display = 'inline-block';
    playVideo(getSelectedChannelUrl() || getFirstChannelUrl());
    let firstCh = channelList.querySelector('li[tabindex="0"]:not(.channel-category)');
    setActiveListItem(channelList, firstCh);
    btnRecord.textContent = '–ó–ê–ü–ò–°–¨ TV';
    isRecording = false;
    btnRecord.classList.remove('recording');
    gamesListContainer.style.display = 'none';
    gamesOverlay.style.display = 'none';
  });
  btnRadio.addEventListener('click', () => {
    if (currentMode === 'radio') return;
    currentMode = 'radio';
    setActiveButton(btnRadio);
    btnRecord.style.display = 'none';
    stopVideo();
    playAudio(getSelectedRadioUrl() || getFirstRadioUrl());
    let firstRadio = radioList.querySelector('li[tabindex="0"]');
    setActiveListItem(radioList, firstRadio);
    gamesListContainer.style.display = 'none';
    gamesOverlay.style.display = 'none';
  });
  btnRecord.addEventListener('click', () => {
    if (isRecording) stopRecording();
    else startRecording();
  });
  btnGames.addEventListener('click', () => {
    if (gamesListContainer.style.display === 'block') {
      gamesListContainer.style.display = 'none';
      btnGames.classList.remove('active');
      btnGames.setAttribute('aria-expanded','false');
    }
    else {
      gamesListContainer.style.display = 'block';
      btnGames.classList.add('active');
      btnGames.setAttribute('aria-expanded','true');
    }
  });

  channelList.addEventListener('click', e => {
    let li = e.target.closest('li');
    if (!li) return;
    if(li.classList.contains('channel-category')) return;
    if(currentMode !== 'tv') btnTV.click();
    let url = li.getAttribute('data-url');
    if(url && url !== currentStreamUrl) {
      playVideo(url);
      setActiveListItem(channelList, li);
    }
  });
  channelList.addEventListener('keydown', e => {
    if(e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      const li = document.activeElement;
      if(li && li.tagName === 'LI' && !li.classList.contains('channel-category')) {
        li.click();
      }
    }
  });

  radioList.addEventListener('click', e => {
    let li = e.target.closest('li');
    if (!li) return;
    let url = li.getAttribute('data-url');
    if(!url) return;
    if(currentMode !== 'radio') btnRadio.click();
    if(audioPlayer.src !== url) {
      playAudio(url);
      setActiveListItem(radioList, li);
    }
  });
  radioList.addEventListener('keydown', e => {
    if(e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      const li = document.activeElement;
      if(li && li.tagName === 'LI') li.click();
    }
  });

  function getSelectedChannelUrl() {
    const activeLi = channelList.querySelector('li.active');
    return activeLi ? activeLi.getAttribute('data-url') : null;
  }
  function getFirstChannelUrl() {
    const first = channelList.querySelector('li[tabindex="0"]:not(.channel-category)');
    return first ? first.getAttribute('data-url') : null;
  }
  function getSelectedRadioUrl() {
    const activeLi = radioList.querySelector('li.active');
    return activeLi ? activeLi.getAttribute('data-url') : null;
  }
  function getFirstRadioUrl() {
    const first = radioList.querySelector('li[tabindex="0"]');
    return first ? first.getAttribute('data-url') : null;
  }

  // –ó–∞–ø–∏—Å—å –≤–∏–¥–µ–æ –∏ –∑–≤—É–∫–∞ —Å –≤–∏–¥–µ–æ –ø–ª–µ–µ—Ä–∞
  async function startRecording() {
    if(!videoPlayer.src || videoPlayer.paused) {
      alert('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫.');
      return;
    }
    try {
      btnRecord.classList.add('recording');
      btnRecord.textContent = '–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å';
      const stream = videoPlayer.captureStream();
      mediaRecorder = new MediaRecorder(stream, {mimeType:'video/webm;codecs=vp8,opus'});
      recordedChunks = [];
      mediaRecorder.ondataavailable = e => {
        if(e.data.size>0) recordedChunks.push(e.data);
      };
      mediaRecorder.onstop = saveRecording;
      mediaRecorder.start(100);
      isRecording = true;
    } catch(e) {
      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏: '+e.message);
      btnRecord.classList.remove('recording');
      btnRecord.textContent = '–ó–ê–ü–ò–°–¨ TV';
      isRecording = false;
    }
  }
  function stopRecording() {
    if(!mediaRecorder || mediaRecorder.state === 'inactive') return;
    mediaRecorder.stop();
    isRecording = false;
    btnRecord.classList.remove('recording');
    btnRecord.textContent = '–ó–ê–ü–ò–°–¨ TV';
  }
  function saveRecording() {
    const blob = new Blob(recordedChunks, {type:'video/webm'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    const time = new Date().toISOString().replace(/[:.]/g,'-');
    a.download = `recording_${time}.webm`;
    document.body.appendChild(a);
    a.click();
    setTimeout(() => {
      URL.revokeObjectURL(url);
      a.remove();
    }, 150);
  }

  // –ò–≥—Ä—ã: –º–µ–Ω—é –∏ –∑–∞–ø—É—Å–∫
  gamesListContainer.querySelector('#games-list-close').addEventListener('click', () => {
    gamesListContainer.style.display = 'none';
    btnGames.classList.remove('active');
    btnGames.setAttribute('aria-expanded', 'false');
  });
  gamesListContainer.querySelector('#games-list-close').addEventListener('keydown', e => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      gamesListContainer.querySelector('#games-list-close').click();
    }
  });
  gamesList.addEventListener('click', e => {
    let li = e.target.closest('li');
    if(!li) return;
    let url = li.getAttribute('data-url');
    if(!url) return;
    launchGame(url);
    setActiveListItem(gamesList, li);
    gamesListContainer.style.display = 'none';
    btnGames.classList.remove('active');
    btnGames.setAttribute('aria-expanded', 'false');
  });
  gamesList.addEventListener('keydown', e => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      const li = document.activeElement;
      if (li && li.tagName === 'LI') li.click();
    }
  });
  function launchGame(url) {
    gamesIframe.src = url;
    gamesOverlay.style.display = 'flex';
  }
  btnExit.addEventListener('click', () => {
    gamesIframe.src = '';
    gamesOverlay.style.display = 'none';
    setActiveListItem(gamesList, null);
  });
  btnFullscreen.addEventListener('click', () => {
    if(!document.fullscreenElement) gamesOverlay.requestFullscreen();
    else document.exitFullscreen();
  });
  btnMute.addEventListener('click', () => {
    gamesIframe.muted = !gamesIframe.muted;
    btnMute.textContent = gamesIframe.muted ? 'üîá' : 'üîà';
  });
  btnMinimize.addEventListener('click', () => {
    gamesOverlay.style.top = 'auto';
    gamesOverlay.style.bottom = '0';
    gamesOverlay.style.left = '0';
    gamesOverlay.style.transform = 'none';
    gamesOverlay.style.width = '100%';
    gamesOverlay.style.height = '220px';
    btnMinimize.style.display = 'none';
    btnRestore.style.display = 'inline';
  });
  btnRestore.addEventListener('click', () => {
    gamesOverlay.style.top = '50%';
    gamesOverlay.style.left = '50%';
    gamesOverlay.style.bottom = 'auto';
    gamesOverlay.style.width = '90vw';
    gamesOverlay.style.height = '80vh';
    gamesOverlay.style.transform = 'translate(-50%, -50%)';
    btnMinimize.style.display = 'inline';
    btnRestore.style.display = 'none';
  });

  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞—Ä—Ç —Ä–∞–¥–∏–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
  window.addEventListener('load', () => {
    btnRadio.click();
  });
})();
</script>
</body>
</html>
