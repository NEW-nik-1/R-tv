<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TV / Radio / Games — Single File Interface</title>
  <style>
    :root{font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
    body{margin:0;background:#0f1724;color:#e6eef8;min-height:100vh;display:flex;flex-direction:column}
    header{display:flex;justify-content:center;gap:20px;padding:20px;background:#0b1220;align-items:center;}
    button.tab{background:linear-gradient(180deg,#3a6ea5,#224566);border:2px solid #1b2b3a;color:#fff;padding:12px 24px;border-radius:12px;cursor:pointer;font-size:16px;font-weight:bold;box-shadow:0 4px #142738, 0 6px 10px rgba(0,0,0,.6);transition:all .2s ease;}
    button.tab:hover{transform:translateY(-2px);box-shadow:0 6px #142738, 0 8px 14px rgba(0,0,0,.6);}
    button.tab:active{transform:translateY(2px);box-shadow:0 2px #142738, 0 4px 8px rgba(0,0,0,.6);}
    button.tab.active{background:linear-gradient(180deg,#4b90d0,#32628c);}
    main{padding:18px;flex:1;display:grid;grid-template-columns:1fr;gap:12px;justify-items:center}
    #tv-iframe-container {display:none;border-radius:10px;overflow:hidden;border:1px solid #223246;width:800px;height:650px;}
    #tv-iframe {width:800px;height:650px;border:0;display:block;}
    #radio-player{display:none;padding:10px;background:#071018;border-radius:10px;border:1px solid #213243;max-height:600px;width:400px;display:flex;flex-direction:column;overflow:hidden;}
    #radio-controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-bottom:12px;flex-direction:column;align-items:stretch;}
    #radio-audio {width:100%;min-width:0;max-width:100%;box-sizing:border-box;margin-bottom:4px;}
    #channels {flex:1;height:500px;overflow-y:auto;display:flex;flex-direction:column;gap:8px;}
    .channel {
      padding:12px 16px;
      background:#0e2332;
      color:#e6eef8;
      font-size:16px;
      border-radius:6px;
      border:1px solid #153248;
      cursor:pointer;
      transition:background-color 0.2s,color 0.2s;
      user-select:none;
      text-align:left;
    }
    .channel:hover {
      background-color:#224466;
      color:#fff;
    }
    .channel.selected {
      background-color:#2a6b9a;
      color:#fff;
      border-color:#2a6b9a;
    }
    #games-overlay{display:none;padding:12px;background:#071018;border-radius:10px;border:1px solid #213243;max-height:600px;width:400px;overflow:hidden;flex-direction:column;}
    #games-list {flex:1;height:500px;overflow-y:auto;display:flex;flex-direction:column;gap:8px;}
    .game-item {padding:14px 16px;background:#0e2332;border-radius:8px;cursor:pointer;border:1px solid #153248;text-align:left;font-size:18px;color:#fff;user-select:none;transition:background-color 0.3s ease;}
    .game-item:hover {background:#0e2332 !important;color:#fff !important;cursor:pointer;}
    #game-window{display:none;position:fixed;left:50%;top:50%;transform:translate(-50%, -50%);width:720px;height:480px;background:#071018;border:1px solid #294050;border-radius:10px;box-shadow:0 12px 40px rgba(2,7,14,.7);overflow:hidden;z-index:999;}
    #game-header{display:flex;justify-content:space-between;align-items:center;padding:6px 8px;background:linear-gradient(180deg,#0b1a24,#07202b);gap:8px;}
    #game-title{font-size:14px;}
    #game-controls{display:flex;gap:6px;}
    .gbtn{background:#0e2936;border:0;padding:6px 8px;border-radius:6px;cursor:pointer;color:#bfe1ff;}
    #game-iframe{width:100%;height:calc(100% - 40px);border:0;}
    #game-window.minimized{height:42px;width:260px;left:0;bottom:0;top:auto;transform:none;}
    #game-window.fullscreen{position:fixed;left:0;top:0;right:0;bottom:0;width:100%;height:100%;border-radius:0;transform:none;}
    footer{padding:10px;background:#071725;text-align:center;font-size:13px;color:#9bb7d2;}
    #help-main-btn{width:36px;height:36px;border-radius:50%;border:2px solid #1b2b3a;background:#224566;color:#fff;font-weight:bold;cursor:pointer;box-shadow:0 3px 8px rgba(0,0,0,0.5);margin-left:8px;}
    #help-main-btn:hover{background:#2f6b9c;}
    #help-modal{position:fixed;left:0;top:0;right:0;bottom:0;background:rgba(0,0,0,0.7);display:none;align-items:center;justify-content:center;z-index:2000;}
    #help-content{background:#0f1e2c;color:#fff;padding:20px;max-width:600px;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,.6);max-height:80vh;overflow-y:auto;}
    #close-help{margin-top:15px;padding:10px 20px;cursor:pointer;background:#2a6b9a;color:#fff;border:none;border-radius:8px;}
  </style>
</head>
<body>
  <header>
    <button id="btn-tv" class="tab">ТВ</button>
    <button id="btn-radio" class="tab">РАДИО</button>
    <button id="btn-games" class="tab">ИГРЫ</button>
    <button id="help-main-btn" title="Инструкция">?</button>
  </header>
  <main>
    <section id="tv-iframe-container">
      <iframe id="tv-iframe" src="https://smotret.tv/" width="800" height="650" frameborder="0" allowfullscreen title="Смотреть ТВ"></iframe>
    </section>
    <section id="radio-player">
      <div id="radio-controls"><audio id="radio-audio" controls style="display:inline-block"></audio></div>
      <div id="channels"></div>
    </section>
    <section id="games-overlay">
      <div id="games-list"></div>
    </section>
  </main>
  <div id="game-window" aria-hidden="true">
    <div id="game-header">
      <div id="game-title">Игра</div>
      <div id="game-controls">
        <button id="minimize-btn" class="gbtn">▽</button>
        <button id="restore-btn" class="gbtn" style="display:none">△</button>
        <button id="fs-enter" class="gbtn">❏</button>
        <button id="fs-exit" class="gbtn" style="display:none">❏ (windowed)</button>
        <button id="help-btn" class="gbtn" title="Звук игры отключается в настройках игры">?</button>
        <button id="close-game-btn" class="gbtn">✖</button>
      </div>
    </div>
    <iframe id="game-iframe" src="" title="Game iframe"></iframe>
  </div>
  <div id="help-modal">
    <div id="help-content">
      <h2>Инструкция</h2>
      <p><b>Вкладки:</b> ТВ, РАДИО, ИГРЫ — переключают режим интерфейса.</p>
      <p><b>РАДИО:</b> выберите станцию и вручную нажмите Play, если автозапуск не сработал.</p>
      <p><b>ИГРЫ:</b> выберите игру из списка. Кнопки управления окном игры:</p>
      <ul>
        <li>▽ — свернуть</li>
        <li>△ — восстановить</li>
        <li>❏ — во весь экран</li>
        <li>✖ — закрыть игру</li>
      </ul>
      <p><b>Горячие клавиши:</b></p>
      <ul>
        <li>1 = ТВ</li>
        <li>2 = РАДИО</li>
        <li>3 = ИГРЫ</li>
        <li>Escape = закрыть окно, игру, справку</li>
      </ul>
      <button id="close-help">Закрыть</button>
    </div>
  </div>
  <footer> ТВ/РАДИО/ИГРЫ — Придумал, сделал. MUZER play.</footer>
 
<script src="https://cdn.jsdelivr.net/npm/hls.js@1.5.1/dist/hls.min.js"></script>
<script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
<script>
  (async () => {
    try {
      await vkBridge.send('VKWebAppInit');
      // Можно добавить дополнительную логику запуска здесь после инициализации VK Mini Apps
    } catch(e) {
      console.warn('VK Bridge initialization failed or unavailable', e);
    }
  })();
</script>

<script>
  // Массив со всеми радиостанциями (списки 1-4 объединены)
  const RADIO_CHANNELS = [
     { name: "Авторадио Дискотека СССР", url: "https://pub0302.101.ru:8000/stream/pro/aac/64/144?" },
  { name: "Диско-радио SOVA", url: "https://evcast.mediacp.eu:1965/stream" },
  { name: "Европа плюс", url: "https://ep256.hostingradio.ru:8052/europaplus256.mp3" },
  { name: "Радио Рекорд", url: "https://radiorecord.hostingradio.ru/rr_main96.aacp" },
  { name: "Наше радио", url: "https://nashe1.hostingradio.ru/nashe-256" },
  { name: "Авторадио", url: "https://pub0101.101.ru/stream/air/aac/64/100" },
  { name: "Радио Energy", url: "https://pub0202.101.ru:8443/stream/air/aac/64/99" },
  { name: "Kiss FM", url: "https://radiopotok2.online/http://online.kissfm.ua/KissFM_HD" },
  { name: "Record Remix", url: "https://radiorecord.hostingradio.ru/rmx96.aacp" },
  { name: "Remix FM", url: "https://rmx.amgradio.ru/RemixFM?r_bells" },
  { name: "DFM Remake", url: "https://dfm-remake.hostingradio.ru/remake96.aacp" },
  { name: "Radio Caprice Progressive Power Metal", url: "https://radiopotok2.online/http://79.111.119.111:8000/progpowermetal" },
  { name: "Record Mashup", url: "https://radiorecord.hostingradio.ru/mashup96.aacp" },
  { name: "Радио Солянка Stream", url: "https://radiopotok2.online/http://lexxya.ru:8000/64" },
  { name: "Radio Caprice Progressive Heavy Metal", url: "https://radiopotok2.online/http://213.141.131.10:8000/progheavy" },
  { name: "Radio Sharmanka Retro", url: "https://stream-151.zeno.fm/gexddkd22dsvv" },
  { name: "MixaDance FM Relax", url: "https://stream.mixadance.fm/relax" },
  { name: "Radio Free Music (RFM)", url: "https://radio-holding.ru:9433/rfm" },
  { name: "GRELLA Radio", url: "https://listen6.myradio24.com/grella" },
  { name: "Rock FM: Progressive", url: "https://jfm1.hostingradio.ru:14536/prog.mp3" },
  { name: "Record Gold", url: "https://radiorecord.hostingradio.ru/gold96.aacp" },
  { name: "Record Русская Зима", url: "https://radiorecord.hostingradio.ru/ruszima96.aacp" },
  { name: "Record Eurodance", url: "https://radiorecord.hostingradio.ru/eurodance96.aacp" },
  { name: "Record TOP 100 EDM", url: "https://radiorecord.hostingradio.ru/top100edm96.aacp" },
  { name: "Record Technopop", url: "https://radiorecord.hostingradio.ru/technopop96.aacp" },
  { name: "Record Nu Dance", url: "https://radiorecord.hostingradio.ru/nudance96.aacp" },
  { name: "Record TranceHouse", url: "https://radiorecord.hostingradio.ru/trancehouse96.aacp" },
  { name: "Record Big Hits", url: "https://radiorecord.hostingradio.ru/bighits96.aacp" },
  { name: "Record Tech House", url: "https://radiorecord.hostingradio.ru/techouse96.aacp" },
  { name: "REAL FM FRESH", url: "https://realfm.net/fresh" },
  { name: "Radio Caprice Progressive House", url: "https://radiopotok2.online/http://79.111.119.111:8000/proghouse" },
  { name: "Record Moombahton", url: "https://radiorecord.hostingradio.ru/mmbt96.aacp" },
  { name: "Record Dancecore", url: "https://radiorecord.hostingradio.ru/dc96.aacp" },
  { name: "NRJ Progressive House", url: "https://pub0302.101.ru:8000/stream/trust/mp3/128/13?" },
  { name: "Record Progressive", url: "https://radiorecord.hostingradio.ru/progr96.aacp" },
  { name: "Record Midtempo", url: "https://radiorecord.hostingradio.ru/mt96.aacp" },
  { name: "Record Armin van Buuren", url: "https://radiorecord.hostingradio.ru/armin96.aacp" },
  { name: "Radio Caprice Breakbeat / Big Beat", url: "https://radiopotok2.online/http://79.120.39.202:8000/breakbeat" },
  { name: "Record House Hits", url: "https://radiorecord.hostingradio.ru/househits96.aacp" },
  { name: "Lumix FM 90s Forever Channel", url: "https://myradio24.org/67739" },
  { name: "TranceOne", url: "https://radio.trance.one:8443/online" },
  { name: "Radio Roks", url: "https://radiopotok2.online/http://online.radioroks.ua/RadioROKS_HD" },
  { name: "Enigmatic Drive", url: "https://radio.enigmatic.su:8015/radio" },
  { name: "Radio Caprice Chill Out", url: "https://radiopotok2.online/http://79.111.14.76:8000/chillout" },
  { name: "Nu Euphoria Trance Radio", url: "https://radiopotok2.online/http://radio.nueuphoria.com:8000/live" },
  { name: "PromoDJ Full Moon", url: "https://radio.promodj.com/fullmoon-192" },
  { name: "90s Eurodance", url: "https://listen1.myradio24.com/5967" },
  { name: "PromoDJ Deep", url: "https://radio.promodj.com/deep-192" },
  { name: "The Disco Palace Radio", url: "https://broadcast.miami/proxy/thediscopalace?mp=/stream/" },
  { name: "HIP HOP RADIO", url: "https://tntradio.hostingradio.ru:8027/hhr128.mp3?radiostatistica=radiobells" },
  { name: "LUXURY MUSIC BASS HOUSE", url: "https://luxury.radiotoolkit.com:8040/radio" },
  { name: "Radio Caprice Russian Rap", url: "https://radiopotok2.online/http://79.120.77.11:8000/rapru" },
  { name: "Radio Caprice Jazz / Fusion Metal", url: "https://radiopotok2.online/http://213.141.131.10:8000/jazzmetal" },
  { name: "Radio Saratov Music", url: "https://radiosaratovmusic.com:1065/stream" },
  { name: "Dozhdlivoe Radio", url: "https://stream.laut.fm/dozhdlivoe" },
  { name: "Radio Caprice Crossover Thrash", url: "https://radiopotok2.online/http://213.141.131.10:8000/crossoverthrash" },
  { name: "ТНТ Music Radio", url: "https://tntradio.hostingradio.ru:8027/tntradio128.mp3?radiostatistica=radiobells.com" },
  { name: "Sector Next / 90s", url: "https://radiopotok2.online/http://89.223.45.5:8000/next-160" },
  { name: "PromoDJ Vata", url: "https://radio.promodj.com/vata-192" },
  { name: "Radio Caprice Grime", url: "https://radiopotok2.online/http://79.120.77.11:8000/grime" },
  { name: "Radio Caprice Folk Pop", url: "https://radiopotok2.online/http://213.141.131.10:8000/folkpop" },
  { name: "Зайцев FM Folk Rock", url: "https://abs.zaycev.fm/folk256k" },
  { name: "DFM Russian Dance", url: "https://dfm-dfmrusdance.hostingradio.ru/dfmrusdance96.aacp" },
  { name: "Comedy Radio Comedy Club", url: "https://pub0302.101.ru:8000/stream/pro/aac/64/446?" },
  { name: "Venice Classic Radio", url: "https://uk2.streamingpulse.com/ssl/vcr1" },
  { name: "Radio Caprice Suomisaundi", url: "https://radiopotok2.online/http://79.120.77.11:8000/suomisaundi" },
  { name: "Radio Caprice Funk Rock / Metal", url: "https://radiopotok2.online/http://213.141.131.10:8000/funkrock" },
  { name: "Radio Caprice Folk / Celtic / Gypsy Punk", url: "https://radiopotok2.online/http://213.141.131.10:8000/folkpunk" },
  { name: "Зайцев FM New Rock", url: "https://abs.zaycev.fm/rock256k" },
  { name: "Ретроклуб Instrumental", url: "https://retroclub.hostingradio.ru/retroclubdbl224.aacp" },
  { name: "Radio Caprice Detroit Techno / Tech House", url: "https://radiopotok2.online/http://213.141.131.10:8000/detroittechno" },
  { name: "PromoDJ YO", url: "https://radio.promodj.com/yo-192" },
  { name: "Radio Caprice Twist", url: "https://radiopotok2.online/http://79.111.119.111:8000/twist" },
  { name: "7Kilowatte Radio Station", url: "https://myradio24.org/86047" },
  { name: "The Disco Paradise Radio", url: "https://broadcast.miami/proxy/thediscoparadise?mp=/stream/" },
  { name: "Европа Плюс Urban", url: "https://epdop.hostingradio.ru:8033/ep-urban128.mp3" },
  { name: "SolarFlow Radio", url: "https://radio.enigmatic.su:4005/stream" },
  { name: "DFM RAP", url: "https://dfm-dfmrap.hostingradio.ru/dfmrap96.aacp" },
  { name: "PromoDJ Channel 5", url: "https://radio.promodj.com/channel5-192" },
  { name: "Soulplay Radio", url: "https://a1.radioheart.ru:9018/live" },
  { name: "Radio Caprice Italo Pop", url: "https://radiopotok2.online/http://213.141.131.10:8000/italopop" },
  { name: "MegaNight RADIO", url: "https://myradio24.org/meganight" },
  { name: "Radio Caprice Jazz", url: "https://radiopotok2.online/http://79.120.77.11:8000/jazz" },
  { name: "Radio Caprice Hard House", url: "https://radiopotok2.online/http://213.141.131.10:8000/hardhouse" },
  { name: "Европа Плюс Party", url: "https://epdop.hostingradio.ru:8033/epparty128.mp3" },
  { name: "RockTime Radio", url: "https://listen.myrh.ru/rocktimeradio" },
  { name: "PromoDj Dubstep", url: "https://radio.promodj.com/dubstep-192" },
  { name: "NRJ Techno", url: "https://pub0202.101.ru:8000/stream/trust/mp3/128/18?" },
  { name: "Radio Caprice Dub Techno", url: "https://radiopotok2.online/http://79.120.39.202:8000/dubtechno" },
  { name: "Radio Caprice Minimal Tech House", url: "https://radiopotok2.online/http://79.111.119.111:8000/mintechhouse" },
  { name: "Radio Danz", url: "https://streamssl.radiodanz.com/live" },
  { name: "Radio Caprice Melodic Heavy Metal", url: "https://radiopotok2.online/http://79.111.119.111:8000/melodicheavy" },
  { name: "Radio OldHit", url: "https://oldhit.ru:8000/" },
  { name: "True Life in God Radio Russian", url: "https://stream.tligradio.org/listen/english/radio.mp3" },
  { name: "Radio Caprice Electro Techno", url: "https://radiopotok2.online/http://213.141.131.10:8000/electrotechno" },
  { name: "Radio Caprice Crossover Prog", url: "https://radiopotok2.online/http://79.111.14.76:8000/crossoverprog" },
  { name: "Rock FM: 90s", url: "https://jfm1.hostingradio.ru:14536/rock90.mp3" },
  { name: "Радио Maximum Rock Hits", url: "https://rockhits.hostingradio.ru/rockhits96.aacp" },
  { name: "Music Box Radio", url: "https://musicbox.amgradio.ru/musicbox?r_bells" },
  { name: "RadioGora HitMix", url: "https://listen.radiogora.ru:8443/hitmix128" },
  { name: "DFM The Prodigy", url: "https://dfm-prodigy.hostingradio.ru/prodigy96.aacp" },
  { name: "DFM Russian Gold", url: "https://dfm-russiangold.hostingradio.ru/russiangold96.aacp" },
  { name: "Radio Go", url: "https://radiopotok2.online/http://a8.radioheart.ru:8013/RH53891" },
  { name: "Russian Dance", url: "https://pub0302.101.ru:8443/stream/trust/mp3/128/17" },
  { name: "Radio Caprice Christian Rock", url: "https://radiopotok2.online/http://213.141.131.10:8000/christianrock" },
  { name: "Music In Paradise", url: "https://radiopotok2.online/http://radio.musicinparadise.ru:8000/musicinparadise" },
  { name: "NRJ Drum & Bass", url: "https://pub0201.101.ru/stream/pro/aac/64/6?" },
  { name: "Radio Caprice Soulful House", url: "https://radiopotok2.online/http://79.111.119.111:8000/soulfulhouse" },
  { name: "PromoDJ Top100", url: "https://radio.promodj.com/top100-192" },
  { name: "DFM Trap", url: "https://dfm-dfmtrap.hostingradio.ru/dfmtrap96.aacp" },
  { name: "PromoDJ POP", url: "https://radio.promodj.com/pop-192" },
  { name: "PromoDJ Nu", url: "https://radio.promodj.com/nu-192" },
  { name: "Radio Caprice Piano Rock / Pop", url: "https://radiopotok2.online/http://79.111.14.76:8000/pianorock" },
  { name: "PromoDJ Mini", url: "https://radio.promodj.com/mini-192" },
  { name: "PromoDJ Old School", url: "https://radio.promodj.com/oldschool-192" },
  { name: "PromoDJ Strange", url: "https://radio.promodj.com/strange-192" },
  { name: "Radio Caprice Electroclash", url: "https://radiopotok2.online/http://79.120.39.202:8000/electroclash" },
  { name: "Радио Maximum Linkin Park", url: "https://maximum-linkinpark.hostingradio.ru/linkinpark96.aacp" },
  { name: "Radio Caprice Big Room House", url: "https://radiopotok2.online/http://213.141.131.10:8000/bigroomhouse" },
  { name: "Dance FM Radio", url: "https://myradio24.org/10921" },
  { name: "Radio Crunch'N'Play", url: "https://radiopotok2.online/http://live.crunchnplay.ru/live_256" },
  { name: "Radio Mega Dance", url: "https://radiopotok2.online/http://188.134.10.11:8010/live" },
  { name: "The Disco Planet Radio", url: "https://broadcast.miami/proxy/thediscoplanet?mp=/stream/" },
  { name: "Radio Essential", url: "https://c16.radioboss.fm:18258/radioessential" },
  { name: "Euro Hits", url: "https://pub0101.101.ru/stream/pro/aac/64/82" },
  { name: "Radio Caprice Turkish Pop / Pop Rock", url: "https://radiopotok2.online/http://213.141.131.10:8000/turkishpop" },
  { name: "Radio Caprice Chinese Pop", url: "https://radiopotok2.online/http://213.141.131.10:8000/cpop" },
  { name: "Радио СССР 30-50", url: "https://pub0302.101.ru:8000/stream/pro/aac/64/46?" },
  { name: "Dancing Fox", url: "https://stream.cassiopeia-station.ru:1135/stream" },
  { name: "Зайцев FM Club", url: "https://abs.zaycev.fm/club256k" },
  { name: "ХАЙП FM", url: "https://hfm.amgradio.ru/HypeFM?r_bells" },
  { name: "Русское Радио Зимнее Любимое", url: "https://rr-zimlub.hostingradio.ru/zimlub96.aacp" },
  { name: "Легенды FM", url: "https://radiopotok2.online/http://live.legendy.by:8000/legendyfm" },
  { name: "Русское Радио Родные нулевые", url: "https://rr-00.hostingradio.ru/rr0096.aacp" },
  { name: "Хит FM Хит 90-х", url: "https://hitfm-hit1990.hostingradio.ru/hit199096.aacp" },
  { name: "Ночное такси", url: "https://radiont.shansonspb.ru:1040/stream" },
  { name: "Европа Плюс Лайт", url: "https://europaplus.hostingradio.ru:8014/ep-light128.mp3" },
  { name: "Юмор FM Стендапы", url: "https://pub0201.101.ru/stream/pro/aac/64/245?" },
  { name: "Родные Песни", url: "https://rodpesni.amgradio.ru/rp?r_bells" },
  { name: "РУССКОЕ FM", url: "https://rufm.amgradio.ru/rufm?r_bells" },
  { name: "Дискотека СССР", url: "https://pub0201.101.ru/stream/pro/aac/64/144?" },
  { name: "Радио Движуха", url: "https://myradio24.org/78805" },
  { name: "Говорит Москва", url: "https://media.govoritmoskva.ru/radio/rufm.mp3" },
  { name: "Радио СССР 50-70", url: "https://pub0302.101.ru:8000/stream/pro/aac/64/47?" },
  { name: "Радио Джаз", url: "https://nashe1.hostingradio.ru/jazz-128.mp3" },
  { name: "Популярная Классика FM", url: "https://icecast-radioclassica.cdnvideo.ru/radioclassica" },
  { name: "Радио Джаз Classic Jazz", url: "https://jfm1.hostingradio.ru:14536/ijstream.mp3" },
  { name: "Радио Ночной звонок", url: "https://myradio24.org/74828" },
  { name: "Радио Король и Шут", url: "https://pub0302.101.ru:8000/stream/pro/aac/64/191" },
  { name: "Радио Maximum Русская сборка", url: "https://maximum-russborka.hostingradio.ru/russborka96.aacp" },
  { name: "Радио Ретроклуб", url: "https://retroclub.hostingradio.ru/retroclub224.aacp" },
  { name: "Авторадио Дискотека 80-х", url: "https://pub0101.101.ru/stream/pro/aac/64/1?" },
  { name: "Россия 90-ых", url: "https://pub0102.101.ru:8443/stream/pro/aac/64/33" },
  { name: "Русское Радио Русский Рок", url: "https://rr-russkijrok.hostingradio.ru/russkijrok96.aacp" },
  { name: "Радио Калина Красная", url: "https://icecast-studio21.cdnvideo.ru/KalynaK_1a" },
  { name: "Релакс радио 24", url: "https://stream.vyshka24.ru/relaxradio24" },
  { name: "Радио Хиты 80х", url: "https://my.radioprocessor.com:8100/hit80x-192.mp3" },
  { name: "DFM Dance Gold 1990s", url: "https://dfm-dancegold90.hostingradio.ru/dancegold9096.aacp" },
  { name: "Ретроклуб Радиотеатр", url: "https://retroclub.hostingradio.ru/retroclub128.aacp" },
  { name: "Радио Сталинград", url: "https://stalingrad.amgradio.ru/stalingrad?r_bells" },
  { name: "Русский шансон 24", url: "https://stream.vyshka24.ru/russhanson24" },
  { name: "Радио ИСКАТЕЛЬ", url: "https://iskatel.hostingradio.ru:8015/iskatel-128.mp3" },
  { name: "Монте-Карло Sweet", url: "https://mc-mcsweet.hostingradio.ru/mcsweet96.aacp" },
  { name: "Lounge FM", url: "https://radiopotok2.online/https://cast.mediaonline.net.ua/loungefm320" },
  { name: "Дальнобой FM", url: "https://trucker.autoliferadio.com:1055/stream" },
  { name: "Хит FM Хит 2000-х", url: "https://hitfm-hit2000.hostingradio.ru/hit200096.aacp" },
  { name: "Умное Радио", url: "https://umnoe.amgradio.ru/Umnoe?r_bells" },
  { name: "Русская Волна", url: "https://ru.amgradio.ru/RuWave48?r_bells" },
  { name: "Авторадио Дискотека 90-х", url: "https://pub0201.101.ru/stream/pro/aac/64/74?" },
  { name: "Радио Романтика", url: "https://pub0302.101.ru:8443/stream/air/aac/64/101" },
  { name: "Зайцев FM Шансон", url: "https://abs.zaycev.fm/shanson256k" },
  { name: "Радио Любимые хиты", url: "https://myradio24.org/78185" },
  { name: "Радио Родных Дорог", url: "https://stream1.radiord.ru:8000/live128.aac" },
  { name: "Радио России", url: "https://icecast-vgtrk.cdnvideo.ru/rrzonam_mp3_192kbps" },
  { name: "Радио Советская эстрада", url: "https://evcast.mediacp.eu/sovestradahi" },
  { name: "Радио 7 Музыка счастья", url: "https://radio7.hostingradio.ru:8040/radio7_happiness64.aacp" },
  { name: "Мурка FM", url: "https://murka.amgradio.ru/MurkaFM?r_bells" },
  { name: "Enigmatic Station 3", url: "https://radio.enigmatic.su:8005/radio" },
  { name: "Наше Радио Классик Рок", url: "https://nashe1.hostingradio.ru/nasheclassic.mp3" },
  { name: "Лёгкое Радио", url: "https://stream.audiodiz.ru/listen/light/radio" },
  { name: "Ностальжи Россия", url: "https://listen7.myradio24.com/alexx333" },
  { name: "Lumix FM", url: "https://myradio24.org/18357" },
  { name: "SOHO FM", url: "https://myradio24.org/sohofm" },
  { name: "DFM Dance Gold 2010s", url: "https://dfm-dancegold10.hostingradio.ru/dancegold1096.aacp" },
  { name: "Зайцев FM Релакс", url: "https://abs.zaycev.fm/relax256k" },
  { name: "Гоп FM", url: "https://radiorecord.hostingradio.ru/gop96.aacp" },
  { name: "Радио странствий", url: "https://listen2.myradio24.com/4156" },
  { name: "Радио Орфей", url: "https://orfeyfm.hostingradio.ru:8034/orfeyfm128.mp3" },
  { name: "Радио Звуки природы", url: "https://zvuki.amgradio.ru/Zvuki?r_bells" },
  { name: "Хит FM", url: "https://hitfm.hostingradio.ru/hitfm96.aacp" },
  { name: "Супердискотека 90-х", url: "https://radiorecord.hostingradio.ru/sd9096.aacp" },
  { name: "Радио Мегахит", url: "https://listen.megahit.online/megamp128" },
  { name: "Радио 7", url: "https://radio7.hostingradio.ru:8040/radio7256.mp3" },
  { name: "Спокойное радио", url: "https://listen1.myradio24.com/6262" },
  { name: "Ретро Хит", url: "https://retro.amgradio.ru/Retro?r_bells" },
  { name: "Радио Шоколад", url: "https://choco.hostingradio.ru:10010/fm" },
  { name: "Шансон Радио", url: "https://listen7.myradio24.com/75853" },
  { name: "Юмор FM", url: "https://pub0302.101.ru:8443/stream/air/aac/64/102" },
  { name: "Русский Рок", url: "https://rock.amgradio.ru/RusRock?r_bells" },
  { name: "Радио Максимум", url: "https://maximum.hostingradio.ru/maximum96.aacp" },
  { name: "Пиратская станция", url: "https://radiorecord.hostingradio.ru/ps96.aacp" },
  { name: "Маруся ФМ", url: "https://cdn.radio-holding.ru/marusya_default" },
  { name: "Хорошее радио", url: "https://hr.amgradio.ru/Horoshee?r_bells" },
  { name: "Русское радио", url: "https://rusradio.hostingradio.ru/rusradio96.aacp" },
  { name: "Дорожное радио", url: "https://dorognoe.hostingradio.ru/radio" },
  { name: "Ретро ФМ", url: "https://retro.hostingradio.ru:8043/retro256.mp3" },
  { name: "Симфония FM", url: "https://radiorecord.hostingradio.ru/symph96.aacp" },
  { name: "Русское Радио Лихие Девяностые", url: "https://rr-90.hostingradio.ru/rr9096.aacp" },
  { name: "Правильное Радио", url: "https://radiopotok2.online/http://stream.pravilnoeradio.ru:8000/pr_mpeg" },
  { name: "Радио Двухтысячных", url: "https://air.radio2000x.com:8025/stream" },
  { name: "Радио Лучшие Песни", url: "https://rbs.amgradio.ru/rbs?r_bells" },
];

  const GAMES = [
    { name: "Gary's World", url: "https://html5.gamemonetize.co/dd5rs8etri5hw51g32sk69qfdoov5tq2/" },
    { name: "Crazy Ball Adventures", url: "https://www.onlinegames.io/games/2021/unity2/crazy-ball-adventures/index.html" },
    { name: "Subway Horror Chapter 1", url: "https://www.gamenora.com/embed/subway-horror-chapter-1" },
    { name: "A Difficult Game About Climbing", url: "https://www.gamenora.com/embed/a-difficult-game-about-climbing" },
    { name: "Cross The Road", url: "https://www.onlinegames.io/games/2023/unity/cross-the-road/index.html" },
    { name: "Motorcycle Racer", url: "https://s3.eponesh.com/games/8866/" },
    { name: "Moto Rider GO", url: "https://app-165758.games.s3.yandex.net/165758/ghtg4xyuxt09og6gtji0jcl6aw8el4w4/index.html" },
    { name: "Motorbike Traffic", url: "https://www.onlinegames.io/games/2021/unity/motorbike-traffic/index.html" },
    { name: "Turbo Moto Racer 3D", url: "https://www.gamenora.com/splash/turbo-moto-racer-3d/" },
    { name: "ATV Highway Traffic", url: "https://www.onlinegames.io/games/2021/unity/atv-highway-traffic/index.html" },
    { name: "Traffic Tour", url: "https://traffictour.github.io/traffic-tour/" }
  ];

  // Элементы и переменные
  const btnTV = document.getElementById('btn-tv');
  const btnRadio = document.getElementById('btn-radio');
  const btnGames = document.getElementById('btn-games');
  const tvContainer = document.getElementById('tv-iframe-container');
  const radioPlayer = document.getElementById('radio-player');
  const radioAudio = document.getElementById('radio-audio');
  const channelsDiv = document.getElementById('channels');
  const gamesOverlay = document.getElementById('games-overlay');
  const gamesList = document.getElementById('games-list');
  const gameWindow = document.getElementById('game-window');
  const gameIframe = document.getElementById('game-iframe');
  const gameTitle = document.getElementById('game-title');
  const minimizeBtn = document.getElementById('minimize-btn');
  const restoreBtn = document.getElementById('restore-btn');
  const fsEnter = document.getElementById('fs-enter');
  const fsExit = document.getElementById('fs-exit');
  const closeGameBtn = document.getElementById('close-game-btn');
  const helpBtn = document.getElementById('help-main-btn');
  const helpModal = document.getElementById('help-modal');
  const closeHelp = document.getElementById('close-help');

  let selectedChannelUrl = null;

  function setActiveButton(button){
    [btnTV, btnRadio, btnGames].forEach(b => b.classList.toggle('active', b === button));
  }

  btnTV.addEventListener('click', () => {
    setActiveButton(btnTV);
    tvContainer.style.display = 'block';
    radioPlayer.style.display = 'none';
    stopRadioAudio();
    gamesOverlay.style.display = 'none';
    closeGame();
  });

  btnRadio.addEventListener('click', () => {
    setActiveButton(btnRadio);
    radioPlayer.style.display = 'flex';
    tvContainer.style.display = 'none';
    gamesOverlay.style.display = 'none';
    if(selectedChannelUrl){
      radioAudio.style.display = 'inline-block';
    }
  });

  btnGames.addEventListener('click', () => {
    setActiveButton(btnGames);
    gamesOverlay.style.display = 'flex';
    tvContainer.style.display = 'none';
    radioPlayer.style.display = 'none';
  });

  function renderChannels() {
    channelsDiv.innerHTML = '';
    RADIO_CHANNELS.forEach((ch, idx) => {
      const btn = document.createElement('button');
      btn.className = 'channel';
      btn.textContent = `${idx + 1}. ${ch.name}`;
      btn.title = ch.name;
      btn.addEventListener('click', () => selectChannel(ch));
      btn.dataset.url = ch.url;
      channelsDiv.appendChild(btn);
    });
  }

  function renderGames() {
    gamesList.innerHTML = '';
    GAMES.forEach((g, idx) => {
      const btn = document.createElement('button');
      btn.className = 'game-item';
      btn.textContent = `${idx + 1}. ${g.name}`;
      btn.title = g.name;
      btn.addEventListener('click', () => openGame(g));
      gamesList.appendChild(btn);
    });
  }

  function selectChannel(channel) {
    selectedChannelUrl = channel.url;
    Array.from(channelsDiv.children).forEach(btn =>
      btn.classList.toggle('selected', btn.dataset.url === channel.url)
    );
    radioAudio.src = channel.url;
    radioAudio.style.display = 'inline-block';
    try { radioAudio.play(); } catch { /* ignore */ }
  }

  function stopRadioAudio() {
    try {
      radioAudio.pause();
      radioAudio.currentTime = 0;
      radioAudio.src = '';
    } catch {}
  }

  function openGame(game) {
    gameTitle.textContent = game.name;
    gameIframe.src = game.url;
    gameWindow.style.display = 'block';
    gameWindow.setAttribute('aria-hidden', 'false');
    gameWindow.classList.remove('minimized','fullscreen');
    restoreBtn.style.display = 'none';
    minimizeBtn.style.display = 'inline-block';
    fsEnter.style.display = 'inline-block';
    fsExit.style.display = 'none';
  }

  minimizeBtn.addEventListener('click', () => {
    gameWindow.classList.add('minimized');
    minimizeBtn.style.display = 'none';
    restoreBtn.style.display = 'inline-block';
  });

  restoreBtn.addEventListener('click', () => {
    gameWindow.classList.remove('minimized');
    restoreBtn.style.display = 'none';
    minimizeBtn.style.display = 'inline-block';
  });

  fsEnter.addEventListener('click', async () => {
    if (gameWindow.requestFullscreen) {
      try {
        await gameWindow.requestFullscreen();
        gameWindow.classList.add('fullscreen');
        fsEnter.style.display = 'none';
        fsExit.style.display = 'inline-block';
      } catch {}
    } else {
      gameWindow.classList.add('fullscreen');
      fsEnter.style.display = 'none';
      fsExit.style.display = 'inline-block';
    }
  });

  fsExit.addEventListener('click', async () => {
    if (document.fullscreenElement) {
      try {
        await document.exitFullscreen();
        gameWindow.classList.remove('fullscreen');
        fsEnter.style.display = 'inline-block';
        fsExit.style.display = 'none';
      } catch {}
    } else {
      gameWindow.classList.remove('fullscreen');
      fsEnter.style.display = 'inline-block';
      fsExit.style.display = 'none';
    }
  });

  closeGameBtn.addEventListener('click', () => {
    closeGame();
  });

  function closeGame() {
    gameWindow.style.display = 'none';
    gameWindow.classList.remove('minimized','fullscreen');
    gameWindow.setAttribute('aria-hidden', 'true');
    try { gameIframe.src = ''; } catch {}
  }

  helpBtn.addEventListener('click', () => {
    helpModal.style.display = 'flex';
  });

  closeHelp.addEventListener('click', () => {
    helpModal.style.display = 'none';
  });

  document.addEventListener('keydown', (e) => {
    if (e.key === '1') btnTV.click();
    if (e.key === '2') btnRadio.click();
    if (e.key === '3') btnGames.click();
    if (e.key === 'Escape') {
      closeGame();
      helpModal.style.display = 'none';
      if (gamesOverlay.style.display === 'flex') gamesOverlay.style.display = 'none';
    }
  });

  renderChannels();
  renderGames();
</script>
</body>
</html>
